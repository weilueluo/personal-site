@use '../common/common'
@use 'sass:list'

// min size
$mobile-screen: 320px
$tablet-screen: 481px
$laptop-screen: 770px
$desktop-screen: 1025px

$small-screen: 768px
$smaller-screen: 480px

$n-screens: 5

$min-screen-sizes: 0px, $mobile-screen, $tablet-screen, $laptop-screen, $desktop-screen
$section-title-sizes: medium, medium, large, large, x-large
$card-title-sizes: small, small, medium, medium, medium
$card-widths: 100px, 120px, 140px, 160px, 180px
$cover-heights: 200px, 220px, 240px, 280px, 280px

$button-heights: 20px, 20px, 30px, 30px, 30px
$button-font-sizes: 0.6em, 0.6em, 0.8em, 0.8em, 0.8em
$button-widths: 80px, 80px, 100px, 100px, 100px
    

.all-container
    width: 100%
    height: 100%
    display: flex
    align-items: center
    justify-content: center

    font-family: Overpass,-apple-system,BlinkMacSystemFont,Segoe UI,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif

// Anime Section
// Header & Footer
.section-container
    width: 950px
    max-width: 90%
    margin: 50px 0px

.section-header, .section-footer
    width: 100%
    display: flex
    flex-direction: row
    flex-wrap: wrap
    align-items: center

.section-header
    justify-content: space-between
    gap: 8px

.section-footer
    justify-content: flex-end

.section-footer, .header-right
    display: flex
    flex-direction: row
    gap: 20px

.header-left, .header-right
    display: flex
    height: fit-content
    align-items: flex-end

.section-title
    @for $i from 1 through $n-screens
        @media screen and (min-width: #{list.nth($min-screen-sizes, $i)})
            font-size: list.nth($section-title-sizes, $i)

    margin-top: 10px
    margin-right: 20px
    height: fit-content
    
    font-weight: bolder
    text-transform: uppercase

.section-load-more:not(.all-loaded), .section-toggle

    @include common.button

    &:hover
        cursor: pointer

.section-load-more, .section-toggle, .section-load-more:not(.all-loaded)
    @for $i from 1 through $n-screens
        @media screen and (min-width: #{list.nth($min-screen-sizes, $i)})
            font-size: list.nth($button-font-sizes, $i)
            height: list.nth($button-heights, $i)
            width: list.nth($button-widths, $i)
   
    text-transform: uppercase
    font-weight: bold
    color: gray
    // width: 80px

    // @media screen and (min-width: #{$tablet-screen})
    //     width: 100px

.section-load-more.all-loaded
    border: 0px
    background-color: transparent

// Content
.anime-list
    height: fit-content
    width: 100%

    display: grid
    @for $i from 1 through $n-screens
        @media screen and (min-width: #{list.nth($min-screen-sizes, $i)})
            grid-template-columns: repeat(auto-fit, minmax(list.nth($card-widths, $i), 1fr))
    
    margin: 16px 0

    gap: 15px 12px

    padding: 0

    transition: 0.5s

    &.collapse
        overflow-x: scroll
        grid-template-columns: unset
        grid-template-rows: unset
        grid-auto-flow: column
        grid-auto-columns: 180px

// Anime Card
.anime-card
    display: flex
    flex-direction: column
    width: 100%
    height: 100%
    align-items: center
    justify-content: space-between

    flex-shrink: 0
    align-self: flex-start

    overflow: hidden

    &:hover .card-title
        transition: 0.1s
        color: #8800ff

    .card-image-container
        width: 100%
        &:hover
            cursor: pointer


.card-image
    width: 100%
    @for $i from 1 through $n-screens
        @media screen and (min-width: #{list.nth($min-screen-sizes, $i)})
            height: list.nth($cover-heights, $i)
    
    object-fit: cover
    object-position: center

    border-radius: 5px

$card-title-rows: 3

.card-title
    @for $i from 1 through $n-screens
        @media screen and (min-width: #{list.nth($min-screen-sizes, $i)})
            font-size: list.nth($card-title-sizes, $i)

    line-height: 1em
    height: 3em

    width: 100%

    font-weight: bold
    overflow: hidden
    text-overflow: ellipsis
    display: -webkit-box
    -webkit-box-orient: vertical
    -moz-box-orient: vertical
    line-clamp: $card-title-rows
    -webkit-line-clamp: $card-title-rows

    text-align: left

    color: black

    margin-top: 5px

    &:hover
        cursor: default
